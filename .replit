run = "python3 nr1copilot/nr1-main/app/nr1copilot/nr1-main/app/nr1copilot/nr1-main/app/main.py"
modules = ["python-3.12", "nodejs-20", "web"]
[nix]
channel = "stable-24_05"
packages = ["ffmpeg-full", "libxcrypt", "postgresql"]

[deployment]
run = ["sh", "-c", "python3 nr1copilot/nr1-main/app/nr1copilot/nr1-main/app/nr1copilot/nr1-main/app/main.py"]

[workflows]
runButton = "Netflix ViralClip Pro v5.0"

[[workflows.workflow]]
name = "FastAPI Server"
author = 43354655
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload"

[[workflows.workflow]]
name = "Code Quality Check"
author = 43354655
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python -m pip install black isort flake8 && python -m black app/ --check && python -m isort app/ --check-only && python -m flake8 app/ --max-line-length=88"

[[workflows.workflow]]
name = "Transform Codebase"
author = 43354655
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "echo \"Transform workflow removed - use FastAPI Server instead\""

[[workflows.workflow]]
name = "ViralClip Pro Server"
author = 43355439
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[workflows.workflow]]
name = "Development Server"
author = 43358821
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && upm add fastapi uvicorn python-multipart websockets pydantic pydantic-settings psutil python-jose passlib asyncio-throttle aiofiles"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[workflows.workflow]]
name = "Production Build"
author = 43358821
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && upm add fastapi uvicorn python-multipart websockets pydantic pydantic-settings psutil python-jose passlib asyncio-throttle aiofiles"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -c \"import app.main; print('Import successful')\""

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --workers 1 --log-level warning"

[[workflows.workflow]]
name = "Quality Assurance"
author = 43358821
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m pip install black isort flake8 pytest pytest-asyncio pytest-cov"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m black . --check --diff"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m isort . --check-only --diff"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m flake8 app/ --max-line-length=88 --ignore=E203,W503"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m pytest app/tests/ -v --cov=app --cov-report=term-missing"

[[workflows.workflow]]
name = "ViralClip Server"
author = 43360626
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[workflows.workflow]]
name = "Fixed ViralClip Server"
author = 43360626
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && pip install pydantic-settings==2.1.0"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[workflows.workflow]]
name = "Netflix ViralClip Server"
author = 43362756
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && pip install fastapi uvicorn python-multipart websockets pydantic-settings psutil"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[workflows.workflow]]
name = "Netflix ViralClip Pro Server"
author = 43362756
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && pip install --upgrade pip"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && pip install -r requirements.txt"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[workflows.workflow]]
name = "Netflix ViralClip Pro v4.0"
author = 43366290
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && upm add fastapi uvicorn python-multipart websockets pydantic pydantic-settings psutil python-jose passlib asyncio-throttle aiofiles pytest pytest-asyncio black isort flake8"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[workflows.workflow]]
name = "Netflix ViralClip Pro v5.0"
author = 43366290
mode = "sequential"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && pip install -r requirements.txt"

[[workflows.workflow.tasks]]
task = "shell.exec"
args = "cd nr1copilot/nr1-main && python3 -m uvicorn app.main:app --host 0.0.0.0 --port 5000 --reload --log-level info"

[[ports]]
localPort = 5000
externalPort = 80

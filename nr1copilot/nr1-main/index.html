
<old_str><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viral Clip Generator</title>
    <link rel="stylesheet" href="/public/styles.css">
    <link rel="manifest" href="/public/manifest.json">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta name="theme-color" content="#1f2937">
    <meta name="description" content="Transform YouTube videos into viral clips for TikTok, Instagram Reels, and YouTube Shorts">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1 class="title">üé¨ Viral Clip Generator</h1>
            <p class="subtitle">Transform YouTube videos into viral clips</p>
        </header>

        <main class="main">
            <div class="grid">
                <!-- URL Input Section -->
                <div class="card">
                    <h2>üìπ Video Input</h2>
                    <div class="form-group">
                        <label for="youtube-url">YouTube URL</label>
                        <input 
                            type="url" 
                            id="youtube-url" 
                            placeholder="https://www.youtube.com/watch?v=..."
                            class="input"
                        >
                        <button id="validate-url" class="btn btn-secondary">Validate URL</button>
                    </div>
                    
                    <div id="video-info" class="video-info hidden">
                        <h3>Video Information</h3>
                        <div id="video-details"></div>
                    </div>
                </div>

                <!-- Clip Settings Section -->
                <div class="card">
                    <h2>‚úÇÔ∏è Clip Settings</h2>
                    <div class="form-group">
                        <label for="start-time">Start Time (seconds)</label>
                        <input type="number" id="start-time" min="0" value="0" class="input">
                    </div>
                    
                    <div class="form-group">
                        <label for="end-time">End Time (seconds)</label>
                        <input type="number" id="end-time" min="1" value="60" class="input">
                    </div>
                    
                    <div class="form-group">
                        <label for="quality">Quality</label>
                        <select id="quality" class="input">
                            <option value="360p">360p (Low)</option>
                            <option value="720p" selected>720p (Medium)</option>
                            <option value="1080p">1080p (High)</option>
                        </select>
                    </div>
                    
                    <button id="process-video" class="btn btn-primary" disabled>
                        üöÄ Create Viral Clip
                    </button>
                </div>

                <!-- Progress Section -->
                <div class="card">
                    <h2>üìä Progress</h2>
                    <div id="progress-container">
                        <div id="progress-bar" class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                        <div id="progress-text" class="progress-text">Ready to start</div>
                    </div>
                    
                    <div id="result-container" class="hidden">
                        <h3>‚úÖ Clip Ready!</h3>
                        <div id="download-links"></div>
                    </div>
                </div>
            </div>

            <!-- Video List Section -->
            <div class="card mt-4">
                <h2>üìö Your Videos</h2>
                <div id="video-list">
                    <p class="text-center">No videos processed yet</p>
                </div>
                <button id="refresh-list" class="btn btn-secondary">Refresh List</button>
            </div>
        </main>

        <footer class="footer">
            <p>&copy; 2024 Viral Clip Generator. Built with FastAPI & Modern Web Technologies.</p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="/public/app.js"></script>
    <script>
        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => console.log('SW registered'))
                .catch(error => console.log('SW registration failed'));
        }
    </script>
</body>
</html></old_str>
<new_str><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viral Clip Generator - AI-Powered Video Editor</title>
    <link rel="stylesheet" href="/public/styles.css">
    <link rel="manifest" href="/public/manifest.json">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <meta name="theme-color" content="#3b82f6">
    <meta name="description" content="Transform YouTube videos into viral clips for TikTok, Instagram Reels, and YouTube Shorts using AI">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://viralclipgenerator.com/">
    <meta property="og:title" content="Viral Clip Generator - AI-Powered Video Editor">
    <meta property="og:description" content="Transform YouTube videos into viral clips for TikTok, Instagram Reels, and YouTube Shorts using AI">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://viralclipgenerator.com/">
    <meta property="twitter:title" content="Viral Clip Generator - AI-Powered Video Editor">
    <meta property="twitter:description" content="Transform YouTube videos into viral clips for TikTok, Instagram Reels, and YouTube Shorts using AI">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-spinner"></div>
        <p>Loading Viral Clip Generator...</p>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <nav class="nav">
                <div class="nav-brand">
                    <h1 class="title">üé¨ Viral Clip Generator</h1>
                    <span class="version">v2.0</span>
                </div>
                <div class="nav-actions">
                    <button id="theme-toggle" class="btn btn-icon" title="Toggle theme">üåô</button>
                    <button id="help-btn" class="btn btn-secondary">Help</button>
                </div>
            </nav>
            <p class="subtitle">Transform YouTube videos into viral clips with AI-powered editing</p>
        </header>

        <!-- Main Content -->
        <main class="main">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-content">
                    <h2>Create Viral Content in Minutes</h2>
                    <p>Upload any YouTube video and let our AI extract the most engaging moments for TikTok, Instagram Reels, and YouTube Shorts.</p>
                </div>
            </section>

            <!-- Video Processing Workflow -->
            <div class="workflow">
                <!-- Step 1: URL Input -->
                <div class="card step-card active" data-step="1">
                    <div class="step-header">
                        <span class="step-number">1</span>
                        <h3>üìπ Add YouTube Video</h3>
                    </div>
                    
                    <div class="form-group">
                        <label for="youtube-url">YouTube Video URL</label>
                        <div class="input-group">
                            <input 
                                type="url" 
                                id="youtube-url" 
                                placeholder="https://www.youtube.com/watch?v=dQw4w9WgXcQ"
                                class="input"
                                autocomplete="off"
                            >
                            <button id="validate-url" class="btn btn-primary">
                                <span class="btn-text">Validate</span>
                                <span class="btn-loading hidden">‚è≥</span>
                            </button>
                        </div>
                        <div class="input-help">Paste any YouTube video URL to get started</div>
                    </div>
                    
                    <div id="video-info" class="video-preview hidden">
                        <div class="video-thumbnail">
                            <img id="video-thumb" src="" alt="Video thumbnail">
                            <div class="video-duration" id="video-duration"></div>
                        </div>
                        <div class="video-details">
                            <h4 id="video-title"></h4>
                            <p id="video-meta"></p>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Clip Settings -->
                <div class="card step-card" data-step="2">
                    <div class="step-header">
                        <span class="step-number">2</span>
                        <h3>‚úÇÔ∏è Configure Clip</h3>
                    </div>
                    
                    <div class="time-controls">
                        <div class="form-group">
                            <label for="start-time">Start Time</label>
                            <div class="time-input">
                                <input type="number" id="start-time" min="0" value="0" step="0.1" class="input time">
                                <span class="time-unit">seconds</span>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="end-time">End Time</label>
                            <div class="time-input">
                                <input type="number" id="end-time" min="1" value="60" step="0.1" class="input time">
                                <span class="time-unit">seconds</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="clip-duration">
                        Duration: <span id="clip-duration">60.0s</span>
                        <span class="duration-warning hidden">‚ö†Ô∏è Max 5 minutes</span>
                    </div>
                    
                    <div class="form-group">
                        <label for="quality">Output Quality</label>
                        <select id="quality" class="input">
                            <option value="360p">360p - Fast processing</option>
                            <option value="720p" selected>720p - Recommended</option>
                            <option value="1080p">1080p - Best quality</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="audio-effect">Audio Enhancement</label>
                        <select id="audio-effect" class="input">
                            <option value="">None</option>
                            <option value="normalize">Normalize Volume</option>
                            <option value="enhance">Enhance Voice</option>
                            <option value="music">Add Background Music</option>
                        </select>
                    </div>
                </div>

                <!-- Step 3: Processing -->
                <div class="card step-card" data-step="3">
                    <div class="step-header">
                        <span class="step-number">3</span>
                        <h3>üöÄ Generate Clip</h3>
                    </div>
                    
                    <button id="process-video" class="btn btn-primary btn-large" disabled>
                        <span class="btn-icon">üé¨</span>
                        Create Viral Clip
                    </button>
                    
                    <div id="progress-container" class="progress-container hidden">
                        <div class="progress-bar">
                            <div id="progress-fill" class="progress-fill"></div>
                        </div>
                        <div id="progress-text" class="progress-text">Initializing...</div>
                        <div id="progress-details" class="progress-details"></div>
                    </div>
                    
                    <div id="result-container" class="result-container hidden">
                        <div class="result-success">
                            <h4>‚úÖ Your Viral Clip is Ready!</h4>
                            <div class="result-actions">
                                <button id="download-btn" class="btn btn-primary">
                                    üì• Download Clip
                                </button>
                                <button id="share-btn" class="btn btn-secondary">
                                    üì§ Share
                                </button>
                                <button id="create-another" class="btn btn-outline">
                                    ‚ûï Create Another
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Video History -->
            <section class="card">
                <div class="section-header">
                    <h3>üìö Recent Clips</h3>
                    <button id="refresh-list" class="btn btn-secondary btn-sm">Refresh</button>
                </div>
                
                <div id="video-list" class="video-grid">
                    <div class="empty-state">
                        <div class="empty-icon">üìΩÔ∏è</div>
                        <h4>No clips created yet</h4>
                        <p>Start by adding a YouTube video above</p>
                    </div>
                </div>
            </section>

            <!-- Features Section -->
            <section class="features">
                <h3>Why Choose Viral Clip Generator?</h3>
                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">ü§ñ</div>
                        <h4>AI-Powered</h4>
                        <p>Advanced algorithms identify the most engaging moments</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <h4>Lightning Fast</h4>
                        <p>Process videos in seconds, not minutes</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üì±</div>
                        <h4>Platform Ready</h4>
                        <p>Optimized for TikTok, Instagram, and YouTube Shorts</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üé®</div>
                        <h4>Professional Quality</h4>
                        <p>High-quality output with multiple format options</p>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Viral Clip Generator</h4>
                    <p>Transform your content into viral sensations</p>
                </div>
                <div class="footer-section">
                    <h5>Features</h5>
                    <ul>
                        <li>AI Video Processing</li>
                        <li>Multiple Formats</li>
                        <li>Cloud Storage</li>
                        <li>Batch Processing</li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h5>Support</h5>
                    <ul>
                        <li><a href="#" id="feedback-link">Send Feedback</a></li>
                        <li><a href="#" id="docs-link">Documentation</a></li>
                        <li><a href="#" id="contact-link">Contact Us</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Viral Clip Generator. Built with FastAPI & Modern Web Technologies.</p>
            </div>
        </footer>
    </div>

    <!-- Modals -->
    <div id="help-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>How to Use Viral Clip Generator</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="help-steps">
                    <div class="help-step">
                        <span class="help-number">1</span>
                        <div>
                            <h4>Add YouTube URL</h4>
                            <p>Copy and paste any YouTube video URL into the input field</p>
                        </div>
                    </div>
                    <div class="help-step">
                        <span class="help-number">2</span>
                        <div>
                            <h4>Set Time Range</h4>
                            <p>Choose the start and end times for your clip (max 5 minutes)</p>
                        </div>
                    </div>
                    <div class="help-step">
                        <span class="help-number">3</span>
                        <div>
                            <h4>Configure Options</h4>
                            <p>Select quality and audio enhancement options</p>
                        </div>
                    </div>
                    <div class="help-step">
                        <span class="help-number">4</span>
                        <div>
                            <h4>Generate & Download</h4>
                            <p>Click process and download your viral-ready clip</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- JavaScript -->
    <script>
        // Application state
        let currentVideo = null;
        let processingJob = null;
        let isDarkMode = localStorage.getItem('darkMode') === 'true';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            hideLoadingScreen();
        });

        function initializeApp() {
            // Apply saved theme
            if (isDarkMode) {
                document.body.classList.add('dark-mode');
                document.getElementById('theme-toggle').textContent = '‚òÄÔ∏è';
            }

            // Update clip duration display
            updateClipDuration();
        }

        function setupEventListeners() {
            // URL validation
            document.getElementById('validate-url').addEventListener('click', validateUrl);
            document.getElementById('youtube-url').addEventListener('input', resetVideoInfo);

            // Time controls
            document.getElementById('start-time').addEventListener('input', updateClipDuration);
            document.getElementById('end-time').addEventListener('input', updateClipDuration);

            // Video processing
            document.getElementById('process-video').addEventListener('click', processVideo);

            // Theme toggle
            document.getElementById('theme-toggle').addEventListener('click', toggleTheme);

            // Help modal
            document.getElementById('help-btn').addEventListener('click', showHelpModal);
            document.querySelector('.modal-close').addEventListener('click', hideHelpModal);

            // Video list
            document.getElementById('refresh-list').addEventListener('click', loadVideoList);

            // Modal close on outside click
            document.getElementById('help-modal').addEventListener('click', function(e) {
                if (e.target.id === 'help-modal') {
                    hideHelpModal();
                }
            });

            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'Enter') {
                    processVideo();
                }
                if (e.key === 'Escape') {
                    hideHelpModal();
                }
            });
        }

        async function validateUrl() {
            const urlInput = document.getElementById('youtube-url');
            const url = urlInput.value.trim();
            const btn = document.getElementById('validate-url');

            if (!url) {
                showToast('Please enter a YouTube URL', 'error');
                return;
            }

            btn.classList.add('loading');
            btn.querySelector('.btn-text').classList.add('hidden');
            btn.querySelector('.btn-loading').classList.remove('hidden');

            try {
                const response = await fetch('/api/v1/video/validate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url })
                });

                const data = await response.json();

                if (data.success && data.data.valid) {
                    await loadVideoInfo(url);
                    activateStep(2);
                    showToast('URL validated successfully!', 'success');
                } else {
                    showToast('Invalid YouTube URL', 'error');
                    resetVideoInfo();
                }
            } catch (error) {
                console.error('Validation error:', error);
                showToast('Failed to validate URL', 'error');
                resetVideoInfo();
            } finally {
                btn.classList.remove('loading');
                btn.querySelector('.btn-text').classList.remove('hidden');
                btn.querySelector('.btn-loading').classList.add('hidden');
            }
        }

        async function loadVideoInfo(url) {
            try {
                // Mock video info for demo
                const videoInfo = {
                    title: 'Sample YouTube Video',
                    duration: 300,
                    thumbnail: 'https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg',
                    uploader: 'Sample Channel'
                };

                currentVideo = videoInfo;
                displayVideoInfo(videoInfo);
                document.getElementById('process-video').disabled = false;
            } catch (error) {
                console.error('Error loading video info:', error);
                showToast('Failed to load video information', 'error');
            }
        }

        function displayVideoInfo(info) {
            const container = document.getElementById('video-info');
            const thumb = document.getElementById('video-thumb');
            const title = document.getElementById('video-title');
            const duration = document.getElementById('video-duration');
            const meta = document.getElementById('video-meta');

            thumb.src = info.thumbnail;
            title.textContent = info.title;
            duration.textContent = formatTime(info.duration);
            meta.textContent = `By ${info.uploader} ‚Ä¢ ${formatTime(info.duration)}`;

            container.classList.remove('hidden');
        }

        function resetVideoInfo() {
            document.getElementById('video-info').classList.add('hidden');
            document.getElementById('process-video').disabled = true;
            currentVideo = null;
            activateStep(1);
        }

        function updateClipDuration() {
            const startTime = parseFloat(document.getElementById('start-time').value) || 0;
            const endTime = parseFloat(document.getElementById('end-time').value) || 0;
            const duration = Math.max(0, endTime - startTime);

            document.getElementById('clip-duration').textContent = `${duration.toFixed(1)}s`;

            const warning = document.querySelector('.duration-warning');
            if (duration > 300) {
                warning.classList.remove('hidden');
            } else {
                warning.classList.add('hidden');
            }
        }

        async function processVideo() {
            if (!currentVideo) {
                showToast('Please validate a video URL first', 'error');
                return;
            }

            const startTime = parseFloat(document.getElementById('start-time').value) || 0;
            const endTime = parseFloat(document.getElementById('end-time').value) || 0;
            const quality = document.getElementById('quality').value;
            const audioEffect = document.getElementById('audio-effect').value;

            if (endTime <= startTime) {
                showToast('End time must be greater than start time', 'error');
                return;
            }

            if (endTime - startTime > 300) {
                showToast('Maximum clip duration is 5 minutes', 'error');
                return;
            }

            activateStep(3);
            showProgress();

            try {
                const response = await fetch('/api/v1/video/process', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        youtube_url: document.getElementById('youtube-url').value,
                        start_time: startTime,
                        end_time: endTime,
                        quality: quality,
                        audio_effect: audioEffect
                    })
                });

                const data = await response.json();

                if (data.success) {
                    // Simulate processing progress
                    await simulateProgress();
                    showResult(data.data);
                    showToast('Clip generated successfully!', 'success');
                } else {
                    throw new Error(data.message || 'Processing failed');
                }
            } catch (error) {
                console.error('Processing error:', error);
                showToast('Failed to process video', 'error');
                hideProgress();
            }
        }

        async function simulateProgress() {
            const progressFill = document.getElementById('progress-fill');
            const progressText = document.getElementById('progress-text');
            const progressDetails = document.getElementById('progress-details');

            const steps = [
                { progress: 20, text: 'Downloading video...', detail: 'Fetching from YouTube' },
                { progress: 40, text: 'Analyzing content...', detail: 'AI processing video' },
                { progress: 60, text: 'Extracting clip...', detail: 'Creating segment' },
                { progress: 80, text: 'Optimizing quality...', detail: 'Enhancing video' },
                { progress: 100, text: 'Finalizing...', detail: 'Preparing download' }
            ];

            for (const step of steps) {
                progressFill.style.width = `${step.progress}%`;
                progressText.textContent = step.text;
                progressDetails.textContent = step.detail;
                await new Promise(resolve => setTimeout(resolve, 1000));
            }
        }

        function showProgress() {
            document.getElementById('progress-container').classList.remove('hidden');
            document.getElementById('result-container').classList.add('hidden');
            document.getElementById('process-video').disabled = true;
        }

        function hideProgress() {
            document.getElementById('progress-container').classList.add('hidden');
            document.getElementById('process-video').disabled = false;
        }

        function showResult(data) {
            hideProgress();
            document.getElementById('result-container').classList.remove('hidden');
            
            // Setup download button
            document.getElementById('download-btn').onclick = () => {
                showToast('Download started!', 'success');
            };

            // Setup create another button
            document.getElementById('create-another').onclick = () => {
                resetVideoInfo();
                document.getElementById('youtube-url').value = '';
                document.getElementById('result-container').classList.add('hidden');
            };
        }

        function activateStep(stepNumber) {
            document.querySelectorAll('.step-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector(`[data-step="${stepNumber}"]`).classList.add('active');
        }

        function toggleTheme() {
            isDarkMode = !isDarkMode;
            document.body.classList.toggle('dark-mode');
            document.getElementById('theme-toggle').textContent = isDarkMode ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('darkMode', isDarkMode);
        }

        function showHelpModal() {
            document.getElementById('help-modal').classList.remove('hidden');
        }

        function hideHelpModal() {
            document.getElementById('help-modal').classList.add('hidden');
        }

        function loadVideoList() {
            // Mock video list
            const videoGrid = document.getElementById('video-list');
            videoGrid.innerHTML = `
                <div class="video-item">
                    <div class="video-thumbnail">
                        <img src="https://img.youtube.com/vi/dQw4w9WgXcQ/default.jpg" alt="Video thumbnail">
                    </div>
                    <div class="video-info">
                        <h4>Sample Clip 1</h4>
                        <p>Duration: 1:30 ‚Ä¢ Created 2 hours ago</p>
                    </div>
                    <div class="video-actions">
                        <button class="btn btn-sm">Download</button>
                    </div>
                </div>
            `;
        }

        function showToast(message, type = 'info') {
            const container = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            
            const icons = {
                success: '‚úÖ',
                error: '‚ùå',
                warning: '‚ö†Ô∏è',
                info: '‚ÑπÔ∏è'
            };

            toast.innerHTML = `
                <span class="toast-icon">${icons[type] || icons.info}</span>
                <span class="toast-message">${message}</span>
                <button class="toast-close">&times;</button>
            `;

            container.appendChild(toast);

            // Auto remove after 5 seconds
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 5000);

            // Manual close
            toast.querySelector('.toast-close').onclick = () => toast.remove();
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function hideLoadingScreen() {
            setTimeout(() => {
                document.getElementById('loading-screen').style.display = 'none';
            }, 1000);
        }

        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => console.log('SW registered'))
                .catch(error => console.log('SW registration failed'));
        }
    </script>
</body>
</html></new_str>
